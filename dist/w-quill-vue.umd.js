/*!
 * w-quill-vue v1.0.19
 * (c) 2018-2020 yuda-lyu(semisphere)
 * Released under the MIT License.
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("quill")):"function"==typeof define&&define.amd?define(["quill"],t):(e="undefined"!=typeof globalThis?globalThis:e||self)["w-quill-vue"]=t(e.quill)}(this,(function(e){"use strict";e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e;var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function n(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function r(e,t,n){return e(n={path:t,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==t&&n.path)}},n.exports),n.exports}var o=r((function(e){function t(n){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?e.exports=t=function(e){return typeof e}:e.exports=t=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(n)}e.exports=t}));var i=function(e){var t=o(e);return null!=e&&("object"==t||"function"==t)},u="object"==o(t)&&t&&t.Object===Object&&t,l="object"==("undefined"==typeof self?"undefined":o(self))&&self&&self.Object===Object&&self,a=u||l||Function("return this")(),c=a.Symbol,s=Object.prototype,f=s.hasOwnProperty,d=s.toString,p=c?c.toStringTag:void 0;var v=function(e){var t=f.call(e,p),n=e[p];try{e[p]=void 0;var r=!0}catch(e){}var o=d.call(e);return r&&(t?e[p]=n:delete e[p]),o},b=Object.prototype.toString;var h=function(e){return b.call(e)},y=c?c.toStringTag:void 0;var m=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":y&&y in Object(e)?v(e):h(e)};var g=function(e){return null!=e&&"object"==o(e)};var j=function(e){return"symbol"==o(e)||g(e)&&"[object Symbol]"==m(e)},_=/^\s+|\s+$/g,O=/^[-+]0x[0-9a-f]+$/i,q=/^0b[01]+$/i,S=/^0o[0-7]+$/i,x=parseInt;var T=function(e){if("number"==typeof e)return e;if(j(e))return NaN;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(_,"");var n=q.test(e);return n||S.test(e)?x(e.slice(2),n?2:8):O.test(e)?NaN:+e};var A=function(e){return e?(e=T(e))===1/0||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0};var w=function(e){var t=A(e),n=t%1;return t==t?n?t-n:t:0};var k=function(e){return"number"==typeof e&&e==w(e)};function C(e){return!(!function(e){return"[object String]"===Object.prototype.toString.call(e)}(e)||""===e)}function E(e){var t=!1;return C(e)?t=!isNaN(Number(e)):function(e){return"[object Number]"===Object.prototype.toString.call(e)}(e)&&(t=!0),t}function $(e){return E(e)?A(e):0}function M(e){return!!E(e)&&(e=$(e),k(e))}var N=function(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o},R=Array.isArray,F=c?c.prototype:void 0,I=F?F.toString:void 0;var V=function e(t){if("string"==typeof t)return t;if(R(t))return N(t,e)+"";if(j(t))return I?I.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n};var P=function(e){return null==e?"":V(e)},B=a.isFinite,U=Math.min;var D=function(e){var t=Math[e];return function(e,n){if(e=T(e),(n=null==n?0:U(w(n),292))&&B(e)){var r=(P(e)+"e").split("e"),o=t(r[0]+"e"+(+r[1]+n));return+((r=(P(o)+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}("round");function Q(e){if(!E(e))return 0;e=$(e);var t=D(e);return"0"===String(t)?0:t}function L(e){return!!M(e)&&Q(e)>0}var z="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),H=z.length;var X=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e};var W=function(e){return function(t,n,r){for(var o=-1,i=Object(t),u=r(t),l=u.length;l--;){var a=u[e?l:++o];if(!1===n(i[a],a,i))break}return t}}();var J=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r};var G=function(e){return g(e)&&"[object Arguments]"==m(e)},K=Object.prototype,Y=K.hasOwnProperty,Z=K.propertyIsEnumerable,ee=G(function(){return arguments}())?G:function(e){return g(e)&&Y.call(e,"callee")&&!Z.call(e,"callee")};var te=function(){return!1},ne=r((function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,o=r&&r.exports===n?a.Buffer:void 0,i=(o?o.isBuffer:void 0)||te;e.exports=i})),re=/^(?:0|[1-9]\d*)$/;var oe=function(e,t){var n=o(e);return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&re.test(e))&&e>-1&&e%1==0&&e<t};var ie=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},ue={};ue["[object Float32Array]"]=ue["[object Float64Array]"]=ue["[object Int8Array]"]=ue["[object Int16Array]"]=ue["[object Int32Array]"]=ue["[object Uint8Array]"]=ue["[object Uint8ClampedArray]"]=ue["[object Uint16Array]"]=ue["[object Uint32Array]"]=!0,ue["[object Arguments]"]=ue["[object Array]"]=ue["[object ArrayBuffer]"]=ue["[object Boolean]"]=ue["[object DataView]"]=ue["[object Date]"]=ue["[object Error]"]=ue["[object Function]"]=ue["[object Map]"]=ue["[object Number]"]=ue["[object Object]"]=ue["[object RegExp]"]=ue["[object Set]"]=ue["[object String]"]=ue["[object WeakMap]"]=!1;var le=function(e){return g(e)&&ie(e.length)&&!!ue[m(e)]};var ae=function(e){return function(t){return e(t)}},ce=r((function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,o=r&&r.exports===n&&u.process,i=function(){try{var e=r&&r.require&&r.require("util").types;return e||o&&o.binding&&o.binding("util")}catch(e){}}();e.exports=i})),se=ce&&ce.isTypedArray,fe=se?ae(se):le,de=Object.prototype.hasOwnProperty;var pe=function(e,t){var n=R(e),r=!n&&ee(e),o=!n&&!r&&ne(e),i=!n&&!r&&!o&&fe(e),u=n||r||o||i,l=u?J(e.length,String):[],a=l.length;for(var c in e)!t&&!de.call(e,c)||u&&("length"==c||o&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||oe(c,a))||l.push(c);return l},ve=Object.prototype;var be=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||ve)};var he=function(e,t){return function(n){return e(t(n))}}(Object.keys,Object),ye=Object.prototype.hasOwnProperty;var me=function(e){if(!be(e))return he(e);var t=[];for(var n in Object(e))ye.call(e,n)&&"constructor"!=n&&t.push(n);return t};var ge=function(e){if(!i(e))return!1;var t=m(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t};var je=function(e){return null!=e&&ie(e.length)&&!ge(e)};var _e=function(e){return je(e)?pe(e):me(e)};var Oe=function(e,t){return function(n,r){if(null==n)return n;if(!je(n))return e(n,r);for(var o=n.length,i=t?o:-1,u=Object(n);(t?i--:++i<o)&&!1!==r(u[i],i,u););return n}}((function(e,t){return e&&W(e,t,_e)}));var qe=function(e){return e};var Se=function(e){return"function"==typeof e?e:qe};var xe=function(e,t){return(R(e)?X:Oe)(e,Se(t))};function Te(e){if(function(e){return"[object Object]"===Object.prototype.toString.call(e)}(e)){for(var t in e)return!0;return!1}return!1}function Ae(e){var t=Object.prototype.toString.call(e);return"[object Function]"===t||"[object AsyncFunction]"===t}var we={},ke=null;function Ce(){null===ke&&(ke=setInterval((function(){xe(we,(function(e,t){Date.now()-e.time>e.ms&&(Ae(e.func)&&e.func(),delete we[t])})),Te(we)||(clearInterval(ke),ke=null)}),10))}var Ee=r((function(t,n){t.exports=function(e){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/",t(t.s=2)}([function(t,n){t.exports=e},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(4),o=n.n(r),i=n(6),u=n(5)(o.a,i.a,!1,null,null,null);t.default=u.exports},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.install=t.quillEditor=t.Quill=void 0;var o=r(n(0)),i=r(n(1)),u=window.Quill||o.default,l=function(e,t){t&&(i.default.props.globalOptions.default=function(){return t}),e.component(i.default.name,i.default)},a={Quill:u,quillEditor:i.default,install:l};t.default=a,t.Quill=u,t.quillEditor=i.default,t.install=l},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default={theme:"snow",boundary:document.body,modules:{toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["clean"],["link","image","video"]]},placeholder:"Insert text here ...",readOnly:!1}},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(0)),i=r(n(3)),u=window.Quill||o.default;"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e,t){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(e),r=1;r<arguments.length;r++){var o=arguments[r];if(null!=o)for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])}return n},writable:!0,configurable:!0}),t.default={name:"quill-editor",data:function(){return{_options:{},_content:"",defaultOptions:i.default}},props:{content:String,value:String,disabled:{type:Boolean,default:!1},options:{type:Object,required:!1,default:function(){return{}}},globalOptions:{type:Object,required:!1,default:function(){return{}}}},mounted:function(){this.initialize()},beforeDestroy:function(){this.quill=null,delete this.quill},methods:{initialize:function(){var e=this;this.$el&&(this._options=Object.assign({},this.defaultOptions,this.globalOptions,this.options),this.quill=new u(this.$refs.editor,this._options),this.quill.enable(!1),(this.value||this.content)&&this.quill.pasteHTML(this.value||this.content),this.disabled||this.quill.enable(!0),this.quill.on("selection-change",(function(t){t?e.$emit("focus",e.quill):e.$emit("blur",e.quill)})),this.quill.on("text-change",(function(t,n,r){var o=e.$refs.editor.children[0].innerHTML,i=e.quill,u=e.quill.getText();"<p><br></p>"===o&&(o=""),e._content=o,e.$emit("input",e._content),e.$emit("change",{html:o,text:u,quill:i})})),this.$emit("ready",this.quill))}},watch:{content:function(e,t){this.quill&&(e&&e!==this._content?(this._content=e,this.quill.pasteHTML(e)):e||this.quill.setText(""))},value:function(e,t){this.quill&&(e&&e!==this._content?(this._content=e,this.quill.pasteHTML(e)):e||this.quill.setText(""))},disabled:function(e,t){this.quill&&this.quill.enable(!e)}}}},function(e,t){e.exports=function(e,t,n,r,i,u){var l,a=e=e||{},c=o(e.default);"object"!==c&&"function"!==c||(l=e,a=e.default);var s,f="function"==typeof a?a.options:a;if(t&&(f.render=t.render,f.staticRenderFns=t.staticRenderFns,f._compiled=!0),n&&(f.functional=!0),i&&(f._scopeId=i),u?(s=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),r&&r.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(u)},f._ssrRegister=s):r&&(s=r),s){var d=f.functional,p=d?f.render:f.beforeCreate;d?(f._injectStyles=s,f.render=function(e,t){return s.call(t),p(e,t)}):f.beforeCreate=p?[].concat(p,s):[s]}return{esModule:l,exports:a,options:f}}},function(e,t,n){var r={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"quill-editor"},[e._t("toolbar"),e._v(" "),n("div",{ref:"editor"})],2)},staticRenderFns:[]};t.a=r}])}(e)})),$e={modules:{toolbar:[["bold","italic","underline","strike"],[{color:[]},{background:[]}],[{list:"ordered"},{list:"bullet"}],[{indent:"-1"},{indent:"+1"}],[{script:"sub"},{script:"super"}],[{header:[1,2,3,!1]}],[{align:[]}],["blockquote","code-block"],["link","image","video"],["clean"]]},height:250},Me={components:{"quill-editor":n(Ee).quillEditor},props:{value:{type:String},settings:{type:Object,default:function(){return $e}},editable:{type:Boolean,default:!0}},data:function(){return{mmkey:null,valueTrans:""}},mounted:function(){this.mmkey=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32,t=[];e=L(e)?Q(e):32;for(var n=0;n<e;n++)t[n]=z[0|Math.random()*H];var r=t.join("");return r}()},computed:{changeValue:function(){return this.valueTrans=this.value,""}},methods:{triggerEvent:function(){var e=this;!function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300;C(e)?Ae(t)?M(n)?(we[e]={func:t,ms:n,time:Date.now()},Ce()):console.log("ms need integer"):console.log("need function"):console.log("need key")}("".concat(e.mmkey,"|trigger"),(function(){e.$emit("input",e.valueTrans)}))}}};function Ne(e,t,n,r,o,i,u,l,a,c){"boolean"!=typeof u&&(a=l,l=u,u=!1);var s,f="function"==typeof n?n.options:n;if(e&&e.render&&(f.render=e.render,f.staticRenderFns=e.staticRenderFns,f._compiled=!0,o&&(f.functional=!0)),r&&(f._scopeId=r),i?(s=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),t&&t.call(this,a(e)),e&&e._registeredComponents&&e._registeredComponents.add(i)},f._ssrRegister=s):t&&(s=u?function(e){t.call(this,c(e,this.$root.$options.shadowRoot))}:function(e){t.call(this,l(e))}),s)if(f.functional){var d=f.render;f.render=function(e,t){return s.call(t),d(e,t)}}else{var p=f.beforeCreate;f.beforeCreate=p?[].concat(p,s):[s]}return n}var Re,Fe="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());function Ie(e){return function(e,t){return function(e,t){var n=Fe?t.media||"default":e,r=Ve[n]||(Ve[n]={ids:new Set,styles:[]});if(!r.ids.has(e)){r.ids.add(e);var o=t.source;if(t.map&&(o+="\n/*# sourceURL="+t.map.sources[0]+" */",o+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t.map))))+" */"),r.element||(r.element=document.createElement("style"),r.element.type="text/css",t.media&&r.element.setAttribute("media",t.media),void 0===Re&&(Re=document.head||document.getElementsByTagName("head")[0]),Re.appendChild(r.element)),"styleSheet"in r.element)r.styles.push(o),r.element.styleSheet.cssText=r.styles.filter(Boolean).join("\n");else{var i=r.ids.size-1,u=document.createTextNode(o),l=r.element.childNodes;l[i]&&r.element.removeChild(l[i]),l.length?r.element.insertBefore(u,l[i]):r.element.appendChild(u)}}}(e,t)}}var Ve={};const Pe=Me;var Be=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"quill-editor",staticStyle:{display:"inline-block"},attrs:{changeValue:e.changeValue}},[n("quill-editor",{style:{height:e.settings.height+"px"},attrs:{options:e.settings,disabled:!e.editable},on:{input:e.triggerEvent},model:{value:e.valueTrans,callback:function(t){e.valueTrans=t},expression:"valueTrans"}})],1)};Be._withStripped=!0;return Ne({render:Be,staticRenderFns:[]},(function(e){e&&e("data-v-6e14d350_0",{source:"\n[data-v-6e14d350] .ql-container {\r\n    font-size: inherit;\r\n    font-family: inherit;\n}\r\n",map:{version:3,sources:["D:\\開源-JS-102-1-w-quill-vue\\w-quill-vue\\src\\WQuillVue.vue"],names:[],mappings:";AAkHA;IACA,kBAAA;IACA,oBAAA;AACA",file:"WQuillVue.vue",sourcesContent:["<template>\r\n    <div class=\"quill-editor\" style=\"display:inline-block;\" :changeValue=\"changeValue\">\r\n\r\n        <quill-editor\r\n            :style=\"{'height':settings.height+'px'}\"\r\n            :options=\"settings\"\r\n            :disabled=\"!editable\"\r\n            v-model=\"valueTrans\"\r\n            @input=\"triggerEvent\"\r\n        ></quill-editor>\r\n\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport genID from 'wsemi/src/genID.mjs'\r\nimport debounce from 'wsemi/src/debounce.mjs'\r\nimport VueQuillEditor from 'vue-quill-editor'\r\n\r\n\r\nlet def_settings = {\r\n    modules: {\r\n        toolbar: [\r\n            ['bold', 'italic', 'underline', 'strike'],\r\n            [{ 'color': [] }, { 'background': [] }],\r\n            [{ 'list': 'ordered' }, { 'list': 'bullet' }],\r\n            [{ 'indent': '-1' }, { 'indent': '+1' }],\r\n            [{ 'script': 'sub' }, { 'script': 'super' }],\r\n            [{ 'header': [1, 2, 3, false] }],\r\n            [{ 'align': [] }],\r\n            ['blockquote', 'code-block'],\r\n            ['link', 'image', 'video'],\r\n            ['clean'],\r\n        ],\r\n    },\r\n    height: 250,\r\n}\r\n\r\n\r\n/**\r\n * @vue-prop {String} value 輸入富文本字串\r\n * @vue-prop {String} settings 輸入quill設定物件，預設值詳見原始碼\r\n * @vue-prop {String} [editable=true] 輸入是否允許編輯，預設true\r\n */\r\nexport default {\r\n    components: {\r\n        'quill-editor': VueQuillEditor.quillEditor\r\n    },\r\n    props: {\r\n        value: {\r\n            type: String,\r\n        },\r\n        settings: {\r\n            type: Object,\r\n            default: function() {\r\n                return def_settings\r\n            }\r\n        },\r\n        editable: {\r\n            type: Boolean,\r\n            default: true,\r\n        },\r\n    },\r\n    data: function() {\r\n        return {\r\n            mmkey: null,\r\n            valueTrans: '',\r\n        }\r\n    },\r\n    mounted: function() {\r\n        //console.log('mounted')\r\n\r\n        let vo = this\r\n\r\n        //mmkey\r\n        vo.mmkey = genID()\r\n\r\n    },\r\n    computed: {\r\n\r\n        changeValue: function() {\r\n            //console.log('computed changeValue')\r\n\r\n            let vo = this\r\n\r\n            //save\r\n            vo.valueTrans = vo.value\r\n\r\n            return ''\r\n        },\r\n\r\n    },\r\n    methods: {\r\n\r\n        triggerEvent: function() {\r\n            //console.log('methods triggerEvent')\r\n\r\n            let vo = this\r\n\r\n            //debounce\r\n            debounce(`${vo.mmkey}|trigger`, () => {\r\n\r\n                //refresh\r\n                vo.$emit('input', vo.valueTrans)\r\n\r\n            })\r\n\r\n        },\r\n\r\n    },\r\n}\r\n<\/script>\r\n\r\n<style scoped>\r\n::v-deep .ql-container {\r\n    font-size: inherit;\r\n    font-family: inherit;\r\n}\r\n</style>\r\n"]},media:void 0})}),Pe,"data-v-6e14d350",!1,void 0,!1,Ie,void 0,void 0)}));
//# sourceMappingURL=w-quill-vue.umd.js.map
